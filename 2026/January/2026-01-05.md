MongoDB Backup & Restore with Docker (generic names)
1. Check running Docker containers
docker ps


Identify your MongoDB container (example: my-mongo) and any other DB containers.

2. Create a folder on host for backups
sudo mkdir /databases
sudo chown -R $USER:$USER /databases
cd /databases


All backups will be stored here.

3. Dump the database from container

Initial attempt without credentials may fail. Use proper authentication:

docker exec my-mongo mongodump \
  --username <DB_USER> \
  --password <DB_PASSWORD> \
  --authenticationDatabase admin \
  --db <SOURCE_DB_NAME> \
  --out /dump


Copy dump from container to host:

docker cp my-mongo:/dump /databases/mongo-backup-$(date +%F)


Example backup folder structure:

/databases/mongo-backup-2026-01-05/
├── admin/
├── prelude.json
└── <SOURCE_DB_NAME>/
    ├── collection1.bson
    ├── collection1.metadata.json
    ├── collection2.bson
    └── ...

4. Start a fresh MongoDB container (if needed)
docker stop my-mongo
docker rm my-mongo

docker run -d \
  --name my-mongo \
  -p 127.0.0.1:27017:27017 \
  -v mongo-data:/data/db \
  -e MONGO_INITDB_ROOT_USERNAME=<DB_USER> \
  -e MONGO_INITDB_ROOT_PASSWORD=<DB_PASSWORD> \
  -e MONGO_INITDB_DATABASE=<SOURCE_DB_NAME> \
  mongo:<VERSION>


Check MongoDB version inside container:

docker exec my-mongo mongosh -u <DB_USER> -p <DB_PASSWORD> --authenticationDatabase admin --eval "db.version()"

5. Copy backup into container for restore

Create folder inside container:

docker exec my-mongo mkdir -p /backup


Copy host backup to container:

docker cp /databases/mongo-backup-2026-01-05/<SOURCE_DB_NAME> my-mongo:/backup/<SOURCE_DB_NAME>


Verify files:

docker exec my-mongo ls /backup/<SOURCE_DB_NAME>

6. Restore database to a new name

Restore into <RESTORE_DB_NAME>:

docker exec my-mongo mongorestore \
  --username <DB_USER> \
  --password <DB_PASSWORD> \
  --authenticationDatabase admin \
  --db <RESTORE_DB_NAME> \
  /backup/<SOURCE_DB_NAME>


Success output example:

X document(s) restored successfully. 0 document(s) failed to restore.


Verify in mongosh:

docker exec -it my-mongo mongosh -u <DB_USER> -p <DB_PASSWORD> --authenticationDatabase admin
> show databases;

7. Notes / Caveats

Always use full authentication inside Docker (--username, --password, --authenticationDatabase).

For selective renames, use --nsInclude + --nsFrom + --nsTo.

Ensure /dump or /backup exists inside container before copying files.

Metadata files (*.metadata.json) are important for indexes; keep them when restoring.